import{E as o}from"./Entity-ae023216.js";class r extends o{constructor(i,t,h,s=500,e=1){super(i,t),this.type="bullet",this.direction=h,this.speed=s,this.damage=e,this.lifetime=2,this.piercing=!1,this.trail=[],this.maxTrailLength=5,this.width=8,this.height=4,this.collisionRadius=4,this.vx=Math.cos(h)*s,this.vy=Math.sin(h)*s,this.rotation=h}update(i){super.update(i),this.lifetime-=i,this.lifetime<=0&&this.destroy(),this.trail.push({x:this.x,y:this.y}),this.trail.length>this.maxTrailLength&&this.trail.shift();const t=400,h=300,s=300;Math.sqrt(Math.pow(this.x-t,2)+Math.pow(this.y-h,2))>s&&this.destroy()}render(i){i.save(),this.trail.length>1&&(i.strokeStyle="rgba(255, 255, 0, 0.3)",i.lineWidth=2,i.beginPath(),this.trail.forEach((t,h)=>{h===0?i.moveTo(t.x,t.y):i.lineTo(t.x,t.y)}),i.stroke()),i.translate(this.x,this.y),i.rotate(this.rotation),i.fillStyle="#ffff00",i.fillRect(-this.width/2,-this.height/2,this.width,this.height),i.shadowBlur=10,i.shadowColor="#ffff00",i.fillRect(-this.width/2,-this.height/2,this.width,this.height),i.restore()}}class f extends r{constructor(i,t,h,s,e=400,a=.75){super(i,t,h+s,e,a),this.width=6,this.height=3,this.collisionRadius=3}}class n extends r{constructor(i,t,h,s=350,e=3){super(i,t,h,s,e),this.width=12,this.height=8,this.collisionRadius=6,this.piercing=!0,this.trail=[],this.maxTrailLength=8}render(i){i.save(),this.trail.length>1&&(i.strokeStyle="rgba(255, 128, 0, 0.5)",i.lineWidth=4,i.beginPath(),this.trail.forEach((t,h)=>{h===0?i.moveTo(t.x,t.y):i.lineTo(t.x,t.y)}),i.stroke()),i.translate(this.x,this.y),i.rotate(this.rotation),i.fillStyle="#ff8800",i.fillRect(-this.width/2,-this.height/2,this.width,this.height),i.shadowBlur=15,i.shadowColor="#ff8800",i.fillRect(-this.width/2,-this.height/2,this.width,this.height),i.restore()}}class g extends r{constructor(i,t,h,s=800,e=.5){super(i,t,h,s,e),this.width=20,this.height=2,this.collisionRadius=4,this.lifetime=.5,this.trail=[],this.maxTrailLength=10}render(i){if(i.save(),this.trail.length>1){const t=i.createLinearGradient(this.trail[0].x,this.trail[0].y,this.x,this.y);t.addColorStop(0,"rgba(0, 255, 255, 0)"),t.addColorStop(1,"rgba(0, 255, 255, 0.8)"),i.strokeStyle=t,i.lineWidth=3,i.beginPath(),this.trail.forEach((h,s)=>{s===0?i.moveTo(h.x,h.y):i.lineTo(h.x,h.y)}),i.stroke()}i.translate(this.x,this.y),i.rotate(this.rotation),i.fillStyle="#00ffff",i.fillRect(-this.width/2,-this.height/2,this.width,this.height),i.shadowBlur=20,i.shadowColor="#00ffff",i.fillRect(-this.width/2,-this.height/2,this.width,this.height),i.restore()}}export{r as Bullet,g as LaserBullet,n as PowerBullet,f as SpreadBullet};
